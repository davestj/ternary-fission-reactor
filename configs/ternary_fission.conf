#
# File: configs/ternary_fission.conf
# Author: bthlops (David StJ)
# Date: July 29, 2025
# Title: Ternary Fission Energy Emulation System Configuration
# Purpose: Production configuration parameters for physics simulation and system behavior
# Reason: Provides centralized configuration management for deployment and operational settings
# 
# Change Log:
# 2025-07-29: Initial creation with comprehensive simulation and system parameters
# 2025-07-29: Added energy field management and dissipation configuration
# 2025-07-29: Integrated performance optimization and resource management settings
# 2025-07-29: Added logging, monitoring, and operational control parameters
# 2025-07-29: Included security and networking configuration for production deployment
#
# Carry-over Context:
# - This configuration file controls both C++ simulation engine and Go API server behavior
# - Parameters are optimized for production deployment with reasonable defaults
# - Energy field settings balance physics accuracy with computational performance
# - Resource limits prevent system overload during intensive simulations
# - Monitoring settings enable comprehensive observability and performance tracking

# =============================================================================
# SIMULATION PHYSICS PARAMETERS
# =============================================================================

# Nuclear physics simulation settings
parent_mass=235.0                    # Parent nucleus mass in atomic mass units (U-235)
excitation_energy=6.5                # Nuclear excitation energy in MeV
number_of_events=10000               # Default number of events for batch simulation
events_per_second=5.0                # Rate for continuous simulation mode

# Fragment mass distribution parameters
light_fragment_mean=95.0             # Mean mass of light fragment (AMU)
light_fragment_sigma=5.0             # Standard deviation of light fragment mass
heavy_fragment_mean=140.0            # Mean mass of heavy fragment (AMU)
heavy_fragment_sigma=8.0             # Standard deviation of heavy fragment mass
alpha_particle_mass=4.002603         # Alpha particle mass (fixed, AMU)

# Energy distribution parameters
q_value_mean=200.0                   # Mean Q-value for ternary fission (MeV)
q_value_sigma=10.0                   # Standard deviation of Q-value
kinetic_energy_fraction=0.80         # Fraction of Q-value appearing as kinetic energy

# Conservation law tolerances
momentum_conservation_tolerance=1e-6  # Momentum conservation tolerance (MeV/c)
energy_conservation_tolerance=0.1     # Energy conservation tolerance (MeV)
mass_conservation_tolerance=0.1       # Mass number conservation tolerance
charge_conservation_tolerance=0       # Charge conservation tolerance (exact)

# =============================================================================
# ENERGY FIELD MANAGEMENT PARAMETERS
# =============================================================================

# Energy field simulation settings
max_energy_field=1000.0              # Maximum energy field magnitude (MeV)
min_energy_field=0.1                 # Minimum energy field magnitude (MeV)
energy_to_memory_scale=1000000       # Memory allocation scale (bytes per MeV)
energy_to_cpu_scale=1000000000       # CPU cycle scale (cycles per MeV)

# Energy dissipation settings
auto_dissipate_fields=true           # Automatically dissipate energy fields
default_dissipation_rounds=15        # Default number of encryption rounds
dissipation_per_round=0.01           # Energy loss fraction per encryption round
max_encryption_rounds=256            # Maximum allowed encryption rounds
entropy_decay_constant=0.693147      # Natural logarithm of 2 for half-life calculations

# Memory management settings
memory_pool_size=1073741824          # Memory pool size in bytes (1GB)
memory_block_size=4096               # Memory block size for allocation (4KB)
memory_cleanup_interval=300          # Memory cleanup interval in seconds
max_memory_usage=8589934592          # Maximum memory usage limit (8GB)

# =============================================================================
# PERFORMANCE AND RESOURCE MANAGEMENT
# =============================================================================

# Threading and concurrency
num_threads=8                        # Number of worker threads (0 = auto-detect)
thread_stack_size=8388608            # Thread stack size in bytes (8MB)
max_concurrent_simulations=16        # Maximum concurrent simulation threads
simulation_queue_size=1000           # Simulation request queue size

# Performance optimization settings
enable_optimization=true             # Enable compiler optimizations
enable_vectorization=true            # Enable SIMD vectorization
enable_parallel_processing=true      # Enable parallel processing
cache_line_size=64                   # CPU cache line size for alignment

# Resource monitoring and limits
cpu_usage_limit=80.0                 # CPU usage limit percentage
memory_usage_limit=75.0              # Memory usage limit percentage
disk_usage_limit=90.0                # Disk usage limit percentage
network_bandwidth_limit=1000         # Network bandwidth limit (Mbps)

# Profiling and benchmarking
enable_profiling=false               # Enable performance profiling
profiling_interval=60                # Profiling data collection interval (seconds)
benchmark_iterations=1000            # Number of iterations for benchmarks
performance_logging=true             # Enable performance metrics logging

# =============================================================================
# API SERVER AND NETWORKING CONFIGURATION
# =============================================================================

# HTTP API server settings
api_port=8038                        # HTTP API server port
api_host=0.0.0.0                     # API server bind address
api_timeout=30                       # HTTP request timeout in seconds
max_request_size=10485760            # Maximum request size in bytes (10MB)
max_concurrent_connections=1000      # Maximum concurrent API connections

# WebSocket configuration
websocket_enabled=true               # Enable WebSocket support
websocket_buffer_size=4096           # WebSocket buffer size in bytes
websocket_timeout=300                # WebSocket connection timeout (seconds)
websocket_ping_interval=30           # WebSocket ping interval (seconds)

# CORS and security settings
cors_enabled=true                    # Enable CORS support
cors_origins=*                       # Allowed CORS origins (* for development)
cors_methods=GET,POST,PUT,DELETE,OPTIONS  # Allowed CORS methods
cors_headers=Content-Type,Authorization   # Allowed CORS headers

# Rate limiting
rate_limiting_enabled=true           # Enable API rate limiting
rate_limit_requests=1000             # Requests per time window
rate_limit_window=3600               # Rate limiting time window (seconds)
rate_limit_burst=100                 # Burst limit for rate limiting

# =============================================================================
# LOGGING AND MONITORING CONFIGURATION
# =============================================================================

# Logging settings
log_level=info                       # Log level (debug, info, warn, error)
log_file=logs/ternary_fission.log    # Primary log file path
error_log_file=logs/errors.log       # Error log file path
access_log_file=logs/access.log      # API access log file path
log_rotation_size=104857600          # Log rotation size in bytes (100MB)
log_retention_days=30                # Log file retention period in days

# Verbose logging options
verbose_output=false                 # Enable verbose console output
debug_physics=false                  # Enable physics debugging output
debug_api=false                      # Enable API debugging output
debug_memory=false                   # Enable memory debugging output
quiet_mode=false                     # Suppress non-essential output

# Metrics and monitoring
prometheus_enabled=true              # Enable Prometheus metrics
metrics_port=8080                    # Metrics endpoint port (same as API)
metrics_path=/api/v1/metrics         # Metrics endpoint path
metrics_interval=15                  # Metrics collection interval (seconds)

# Health checks
health_check_enabled=true            # Enable health check endpoint
health_check_path=/api/v1/health     # Health check endpoint path
health_check_interval=30             # Health check interval (seconds)
health_check_timeout=10              # Health check timeout (seconds)

# =============================================================================
# DATA PERSISTENCE AND STORAGE
# =============================================================================

# File system paths
data_directory=data/                 # Primary data storage directory
results_directory=results/           # Simulation results directory
config_directory=configs/            # Configuration files directory
cache_directory=cache/               # Temporary cache directory
backup_directory=backups/            # Backup storage directory

# Database settings (if implemented)
database_enabled=false               # Enable database storage
database_type=sqlite                 # Database type (sqlite, postgresql, mysql)
database_path=data/ternary_fission.db  # Database file path
database_connection_pool=10          # Database connection pool size
database_timeout=30                  # Database operation timeout (seconds)

# Data export and archiving
auto_export_results=true             # Automatically export simulation results
export_format=json                   # Export format (json, csv, xml)
export_compression=true              # Compress exported data
archive_old_data=true                # Archive old data files
archive_age_days=90                  # Archive data older than N days

# =============================================================================
# OPERATIONAL AND DEPLOYMENT SETTINGS
# =============================================================================

# Service discovery and networking
service_name=ternary-fission-emulator  # Service name for discovery
service_port=8080                    # Primary service port
internal_api_port=9001               # Internal API port for C++/Go communication
ipc_socket_path=/tmp/ternary_fission.sock  # IPC socket path

# Security settings
enable_authentication=false          # Enable API authentication
enable_authorization=false           # Enable API authorization
api_key_required=false               # Require API key for requests
session_timeout=3600                 # Session timeout in seconds
secure_cookies=true                  # Use secure cookies (HTTPS only)

# SSL/TLS configuration
ssl_enabled=false                    # Enable SSL/TLS
ssl_certificate_path=ssl/server.crt  # SSL certificate file path
ssl_private_key_path=ssl/server.key  # SSL private key file path
ssl_cipher_suite=ECDHE-RSA-AES256-GCM-SHA384  # SSL cipher suite

# Operational modes
daemon_mode=true                     # Run as daemon process
interactive_mode=false               # Enable interactive shell
continuous_mode=true                 # Enable continuous simulation
benchmark_mode=false                 # Run in benchmark mode

# Process management
pid_file=/var/run/ternary_fission.pid  # PID file path
user=bthlops                         # Run as user
group=bthlops                        # Run as group
umask=0022                           # File creation umask

# =============================================================================
# ENVIRONMENT-SPECIFIC OVERRIDES
# =============================================================================

# Development environment settings
# These settings are applied when GO_ENV=development
dev_log_level=debug
dev_verbose_output=true
dev_cors_origins=http://localhost:3000,http://localhost:8080
dev_rate_limiting_enabled=false
dev_ssl_enabled=false

# Production environment settings  
# These settings are applied when GO_ENV=production
prod_log_level=info
prod_verbose_output=false
prod_cors_origins=https://ternary-fission.domain.com
prod_rate_limiting_enabled=true
prod_ssl_enabled=true

# Testing environment settings
# These settings are applied when GO_ENV=testing
test_log_level=debug
test_number_of_events=100
test_events_per_second=10.0
test_max_energy_field=100.0
test_database_path=:memory:

# =============================================================================
# FEATURE FLAGS AND EXPERIMENTAL SETTINGS
# =============================================================================

# Experimental features (use with caution)
enable_gpu_acceleration=false        # Enable GPU acceleration (experimental)
enable_distributed_simulation=false  # Enable distributed processing
enable_machine_learning=false        # Enable ML-based optimizations
enable_quantum_corrections=false     # Enable quantum mechanical corrections

# Feature flags
feature_energy_field_visualization=true     # Enable energy field visualization
feature_real_time_monitoring=true           # Enable real-time monitoring
feature_api_versioning=true                 # Enable API versioning
feature_plugin_system=false                 # Enable plugin system
feature_external_integrations=false         # Enable external system integrations

# Debug and diagnostic features
memory_leak_detection=false          # Enable memory leak detection
performance_counters=true            # Enable performance counters
execution_tracing=false              # Enable execution tracing
statistical_profiling=false          # Enable statistical profiling

# =============================================================================
# END OF CONFIGURATION FILE
# =============================================================================

# Note: Configuration values can be overridden by:
# 1. Command-line arguments (highest priority)
# 2. Environment variables (medium priority) 
# 3. This configuration file (lowest priority)
#
# Environment variable format: TERNARY_<PARAMETER_NAME>
# Example: TERNARY_EVENTS_PER_SECOND=10.0
